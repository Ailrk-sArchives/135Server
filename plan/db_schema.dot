digraph db_schema{
    graph [ rankdir = "LR"];
    ranksep=2;

    "Projects"
         [label="<Project>Projects
                |<PK_PROJECT_ID>[PK] project_id \l
                |<FK_PROJECTS_OUTDOOR_SPOT_ID> outdoorspot_id\l
                |<PROJECTS_LOCATION_ID>location_id \l
                |<PROJECTS_COMPANY_ID>company_id \l |
                name \l
                disctrict\l
                demo_area \l
                floor \l
                area \l
                building type\l
                building height \l
                finished time \l
                recorded period \l
                description \l"
          shape="record"];

    "Locations"
        [label="<Locations>Locations
                |<PK_LOCATION_ID>[PK] location_id \l
                |<FK_LOCATION_CLIMATE_AREA_ID>climate_area_id\l|
                province \l
                city \l "
         shape="record"];

    "Companies"
        [label="<Companies>Companies
                |<PK_COMPANY_ID>[PK] company_id \l|
                construction_company \l
                tech_support_company\l
                project_company \l"
         shape="record"];

    "ProjectDetails"
        [label="<ProjectDetails>ProjectDetails
                |<PK_PROJECT_DETAILS_PROJECT_ID>[PK] project_id \l |
                image \l
                image_description \l"
         shape="record"];

    "Spots"
        [label="<Spots>Spots
                |<PK_SPOT_ID>[PK] spot_id \l
                |<FK_SPOTS_PROJECT_ID>project_id \l|
                name \l
                image \l"
        shape="record"]

    "SpotsRecords"
        [label="<SpotsRecords>SpotsRecords
                |<PK_SPOT_RECORD_ID>[FK] spot_id\l
                |<PK_SPOT_RECORD_TIME>[PK] spot_record_time \l |
                time \l
                window_opened \l
                temperature \l
                humidity \l
                energy consumption \l
                PM2.5 \l
                CO2 \l "
         shape="record"]

    "ClimateAreas"
        [label="<ClimateAreas>ClimateAreas
                |<PK_CLIMATE_AREA_ID>[PK] climate_area_id \l
                area_name"
         shape="record"]

    "OutdoorSpots"
        [label="<OutdoorSpots>OutdoorSpots
                |<PK_OUTDOOR_SPOT_ID>[PK] outdoorspot_id(given)\l |
                outdoorspot_name\l
                "
         shape="record"]

    "OutdoorRecords"
        [label="<OutdoorRecords>OutdoorRecords
                |<FK_OUTDOOR_SPOT_ID>[FK] outdoorspot_id\l
                |<PK_OUTDOOR_RECORD_TIME>[PK] outdoor_record_time \l|
                temperature \l
                humidity \l"
         shape="record"]

    "Devices"
        [label="<Devices>Devices
                |<PK_DEVICES_ID>[PK] device_id \l |
                <FK_DEVICES_SPOTS_ID>spots_id \l |
                pm25 \l
                co2 \l
                temperature \l "
         shape="record"]

    "User"
        [label="<Users>Users
                |<PK_USER_ID>[PK] user_id \l |
                username \l
                passwd \l"
         shape="record"]

    "Projects":"PK_PROJECT_ID" -> "ProjectDetails":"PK_PROJECT_DETAILS_PROJECT_ID" [arrowhead=none];
    "Locations":"PK_LOCATION_ID" -> "Projects":"PROJECTS_LOCATION_ID" [arrowhead=crow];
    "Projects":"PROJECTS_COMPANY_ID" -> "Companies":"PK_COMPANY_ID"[arrowhead=none];
    "Projects":"PK_PROJECT_ID" -> "Spots":"FK_SPOTS_PROJECT_ID" [arrowhead=crow];
    "Spots":"PK_SPOT_ID" -> "Devices":"FK_DEVICES_SPOTS_ID" [arrowhead=crow];
    "Spots":"PK_SPOT_ID" -> "SpotsRecords":"PK_SPOT_RECORD_ID" [arrowhead=none];
    "OutdoorSpots":"PK_OUTDOOR_SPOT_ID" -> "OutdoorRecords":"FK_OUTDOOR_SPOT_ID" [arrowhead=none];
    "Locations":"FK_LOCATION_CLIMATE_AREA_ID"->"ClimateAreas":"PK_CLIMATE_AREA_ID"[arrowhead=none];
    "OutdoorSpots":"PK_OUTDOOR_SPOT_ID" -> "Projects":"FK_PROJECTS_OUTDOOR_SPOT_ID" [arrowhead=crow];
}
